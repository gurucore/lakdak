{"mappings":";;ACAO,SAAS,4CAAQ;IACtB,OAAO;AACT;;ADFA;AEAA;AAKe;IACb,4FAIC,GACD,OAAO,4BAA4B,SAAS,IAAI,EAAU;QACxD,MAAM,oBAAoB,OAAO,MAAM,CAAC,CAAA,GAAA,yDAAE,AAAD,EAAE,iBAAiB,IACzD,MAAM,CAAC,CAAC,GAAG,IAAM;YAChB,IAAI,EAAE,MAAM,CAAC;YACb,OAAO;QACT,GAAG,EAAE,EACJ,MAAM,CAAC,CAAC,UAAE,OAAM,WAAE,QAAO,EAAE,GAAK;YAC/B,OAAO,OAAO,WAAW,GAAG,OAAO,CAAC,WAAW;QACjD,GACC,GAAG,CAAC,CAAC,WAAE,QAAO,EAAE,GAAK;QACxB,MAAM,oBAAoB,kBAAkB,IAAI,CAAC;QACjD,OAAO;IACT;IAEA,gHAIC,GACD,OAAc,qBAAqB,GAAG,EAAE;QACtC,0DAA0D;QAC1D,yEAAyE;QACzE,OAAO,KAAK,QAAQ,iBAAiB,KAAK,OAAO,CAAC,kBAAkB;IACtE;AACF;;;;;;;;;","sources":["src/index.ts","src/libs/lib.ts","src/libs/DevOpsHelper.ts"],"sourcesContent":["export { hello as testFunction } from './libs/lib'\r\nimport DevOpsHelper from './libs/DevOpsHelper'\r\n\r\nexport { DevOpsHelper }\r\n","export function hello() {\r\n  return 1;\r\n}\r\n","import os from 'os'\r\n\r\n/**\r\n * Helper to  inspect, check, analyse command send to chatbot\r\n */\r\nexport default class DevOpsHelper {\r\n  /**\r\n   * Get current server IP address\r\n   * @param ipType \"v4\" or \"v6\"\r\n   * @returns\r\n   */\r\n  static getCurrentServerIpAddresses(ipType = 'v4'): string {\r\n    const networkInterfaces = Object.values(os.networkInterfaces())\r\n      .reduce((r, a) => {\r\n        r = r.concat(a)\r\n        return r\r\n      }, [])\r\n      .filter(({ family, address }) => {\r\n        return family.toLowerCase().indexOf(ipType) >= 0 && address !== '127.0.0.1'\r\n      })\r\n      .map(({ address }) => address)\r\n    const serverIpAddresses = networkInterfaces.join(', ')\r\n    return serverIpAddresses\r\n  }\r\n\r\n  /**\r\n   * Get IP from request (if behind proxy, use X-Forwarded-For header)\r\n   * @param req\r\n   * @returns\r\n   */\r\n  public static extractIpFromRequest(req) {\r\n    // TODO: should improve this func to whitelist the proxies\r\n    // TODO: should use this library https://www.npmjs.com/package/request-ip\r\n    return req?.socket?.remoteAddress || req?.headers['x-forwarded-for']\r\n  }\r\n}\r\n"],"names":[],"version":3,"file":"lakdak.es.js.map","sourceRoot":"../"}